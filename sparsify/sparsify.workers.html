

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>sparsify.workers package &mdash; sparsify 1.0.9 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="sparsify.utils package" href="sparsify.utils.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="sparsify.html" class="icon icon-home"> sparsify
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="sparsify.blueprints.html">sparsify.blueprints package</a></li>
<li class="toctree-l1"><a class="reference internal" href="sparsify.models.html">sparsify.models package</a></li>
<li class="toctree-l1"><a class="reference internal" href="sparsify.schemas.html">sparsify.schemas package</a></li>
<li class="toctree-l1"><a class="reference internal" href="sparsify.utils.html">sparsify.utils package</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">sparsify.workers package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-sparsify.workers.base">sparsify.workers.base module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-sparsify.workers.base_manager">sparsify.workers.base_manager module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-sparsify.workers.base_wrapper">sparsify.workers.base_wrapper module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-sparsify.workers.projects_benchmark">sparsify.workers.projects_benchmark module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-sparsify.workers.projects_data">sparsify.workers.projects_data module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-sparsify.workers.projects_model">sparsify.workers.projects_model module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-sparsify.workers.projects_profiles">sparsify.workers.projects_profiles module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-sparsify.workers">Module contents</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="sparsify.html">sparsify</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="sparsify.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>sparsify.workers package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/sparsify.workers.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="sparsify-workers-package">
<h1>sparsify.workers package<a class="headerlink" href="#sparsify-workers-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-sparsify.workers.base">
<span id="sparsify-workers-base-module"></span><h2>sparsify.workers.base module<a class="headerlink" href="#module-sparsify.workers.base" title="Permalink to this headline">¶</a></h2>
<p>Code related to the base implementations for job workers</p>
<dl class="py class">
<dt id="sparsify.workers.base.BaseJobWorker">
<em class="property">class </em><code class="sig-prename descclassname">sparsify.workers.base.</code><code class="sig-name descname">BaseJobWorker</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">job_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">project_id</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sparsify/workers/base.html#BaseJobWorker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparsify.workers.base.BaseJobWorker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The base job worker instance all job workers must extend</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>job_id</strong> – the id of the job the worker is being run for</p></li>
<li><p><strong>project_id</strong> – the id of the project the job belongs to</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="sparsify.workers.base.BaseJobWorker.format_args">
<em class="property">abstract classmethod </em><code class="sig-name descname">format_args</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span> &#x2192; Dict<span class="p">[</span>str<span class="p">, </span>Any<span class="p">]</span><a class="reference internal" href="_modules/sparsify/workers/base.html#BaseJobWorker.format_args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparsify.workers.base.BaseJobWorker.format_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Format a given args into proper args to be stored for later use
in the constructor for the job worker.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kwargs</strong> – the args to format</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the formatted args to be stored for later use</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.base.BaseJobWorker.get_type">
<em class="property">classmethod </em><code class="sig-name descname">get_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/sparsify/workers/base.html#BaseJobWorker.get_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparsify.workers.base.BaseJobWorker.get_type" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the type of job worker</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.base.BaseJobWorker.job_id">
<em class="property">property </em><code class="sig-name descname">job_id</code><a class="headerlink" href="#sparsify.workers.base.BaseJobWorker.job_id" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the id of the job the worker is being run for</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.base.BaseJobWorker.project_id">
<em class="property">property </em><code class="sig-name descname">project_id</code><a class="headerlink" href="#sparsify.workers.base.BaseJobWorker.project_id" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the id of the project the job belongs to</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.base.BaseJobWorker.run">
<em class="property">abstract </em><code class="sig-name descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Iterator<span class="p">[</span>Dict<span class="p">[</span>str<span class="p">, </span>Any<span class="p">]</span><span class="p">]</span><a class="reference internal" href="_modules/sparsify/workers/base.html#BaseJobWorker.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparsify.workers.base.BaseJobWorker.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the work for the job.
Must be implemented as an iterator that returns a
dictionary containing the progress object on each progress step.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>an iterator containing progress update information</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="sparsify.workers.base.JobWorkerRegistryHolder">
<em class="property">class </em><code class="sig-prename descclassname">sparsify.workers.base.</code><code class="sig-name descname">JobWorkerRegistryHolder</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">bases</span></em>, <em class="sig-param"><span class="n">attrs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sparsify/workers/base.html#JobWorkerRegistryHolder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparsify.workers.base.JobWorkerRegistryHolder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">type</span></code></p>
<p>Registry class for handling and storing BaseJobWorker sub class instances.
All subclasses are added to the the REGISTRY property</p>
<dl class="py attribute">
<dt id="sparsify.workers.base.JobWorkerRegistryHolder.REGISTRY">
<code class="sig-name descname">REGISTRY</code><em class="property"> = {'BaseJobWorker': &lt;class 'sparsify.workers.base.BaseJobWorker'&gt;, 'BaseProfileJobWorker': &lt;class 'sparsify.workers.projects_profiles.BaseProfileJobWorker'&gt;, 'CreateBenchmarkJobWorker': &lt;class 'sparsify.workers.projects_benchmark.CreateBenchmarkJobWorker'&gt;, 'CreateLossProfileJobWorker': &lt;class 'sparsify.workers.projects_profiles.CreateLossProfileJobWorker'&gt;, 'CreatePerfProfileJobWorker': &lt;class 'sparsify.workers.projects_profiles.CreatePerfProfileJobWorker'&gt;, 'DataFromPathJobWorker': &lt;class 'sparsify.workers.projects_data.DataFromPathJobWorker'&gt;, 'DataFromRepoJobWorker': &lt;class 'sparsify.workers.projects_data.DataFromRepoJobWorker'&gt;, 'ModelFromPathJobWorker': &lt;class 'sparsify.workers.projects_model.ModelFromPathJobWorker'&gt;, 'ModelFromRepoJobWorker': &lt;class 'sparsify.workers.projects_model.ModelFromRepoJobWorker'&gt;, '_DataLoaderJobWorker': &lt;class 'sparsify.workers.projects_data._DataLoaderJobWorker'&gt;, '_ModelLoaderJobWorker': &lt;class 'sparsify.workers.projects_model._ModelLoaderJobWorker'&gt;}</em><a class="headerlink" href="#sparsify.workers.base.JobWorkerRegistryHolder.REGISTRY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-sparsify.workers.base_manager">
<span id="sparsify-workers-base-manager-module"></span><h2>sparsify.workers.base_manager module<a class="headerlink" href="#module-sparsify.workers.base_manager" title="Permalink to this headline">¶</a></h2>
<p>Code related to managing jobs in the server</p>
<dl class="py exception">
<dt id="sparsify.workers.base_manager.JobCancelationFailureError">
<em class="property">exception </em><code class="sig-prename descclassname">sparsify.workers.base_manager.</code><code class="sig-name descname">JobCancelationFailureError</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">object</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sparsify/workers/base_manager.html#JobCancelationFailureError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparsify.workers.base_manager.JobCancelationFailureError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Error raised if a job could not be canceled</p>
</dd></dl>

<dl class="py exception">
<dt id="sparsify.workers.base_manager.JobNotFoundError">
<em class="property">exception </em><code class="sig-prename descclassname">sparsify.workers.base_manager.</code><code class="sig-name descname">JobNotFoundError</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">object</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sparsify/workers/base_manager.html#JobNotFoundError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparsify.workers.base_manager.JobNotFoundError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Error raised if a job is not found in the database</p>
</dd></dl>

<dl class="py class">
<dt id="sparsify.workers.base_manager.JobWorkerManager">
<em class="property">class </em><code class="sig-prename descclassname">sparsify.workers.base_manager.</code><code class="sig-name descname">JobWorkerManager</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sparsify/workers/base_manager.html#JobWorkerManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparsify.workers.base_manager.JobWorkerManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Manager class for handling running job workers in the background.
Only one job worker can run at once.
Once one completes, the next oldest one marked as pending in the db is launched.</p>
<dl class="py method">
<dt id="sparsify.workers.base_manager.JobWorkerManager.app_startup">
<code class="sig-name descname">app_startup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sparsify/workers/base_manager.html#JobWorkerManager.app_startup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparsify.workers.base_manager.JobWorkerManager.app_startup" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle app startup to clear uncompleted state for jobs and begin running</p>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.base_manager.JobWorkerManager.cancel_job">
<code class="sig-name descname">cancel_job</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">job_id</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sparsify/workers/base_manager.html#JobWorkerManager.cancel_job"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparsify.workers.base_manager.JobWorkerManager.cancel_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Cancel a job with the given job_id so it won’t be run.
Blocks until the job can be canceled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>job_id</strong> – the job_id to cancel</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="#sparsify.workers.base_manager.JobNotFoundError" title="sparsify.workers.base_manager.JobNotFoundError"><strong>JobNotFoundError</strong></a> – if the job could not be found in the database</p></li>
<li><p><a class="reference internal" href="#sparsify.workers.base_manager.JobCancelationFailureError" title="sparsify.workers.base_manager.JobCancelationFailureError"><strong>JobCancelationFailureError</strong></a> – if the job could not be canceled</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.base_manager.JobWorkerManager.refresh">
<code class="sig-name descname">refresh</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sparsify/workers/base_manager.html#JobWorkerManager.refresh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparsify.workers.base_manager.JobWorkerManager.refresh" title="Permalink to this definition">¶</a></dt>
<dd><p>Refresh the available jobs.
If a new job is marked as pending and no current job is running,
will start the new job.</p>
<p>Otherwise will exit out without doing anything and
subsequent jobs will be launched after the current one completes.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-sparsify.workers.base_wrapper">
<span id="sparsify-workers-base-wrapper-module"></span><h2>sparsify.workers.base_wrapper module<a class="headerlink" href="#module-sparsify.workers.base_wrapper" title="Permalink to this headline">¶</a></h2>
<p>Code related to wrappers for the job worker to handle running them
through the proper flow and update state to the manager and the dataabase.</p>
<dl class="py exception">
<dt id="sparsify.workers.base_wrapper.JobCancelError">
<em class="property">exception </em><code class="sig-prename descclassname">sparsify.workers.base_wrapper.</code><code class="sig-name descname">JobCancelError</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">object</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sparsify/workers/base_wrapper.html#JobCancelError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparsify.workers.base_wrapper.JobCancelError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Error raised if a job was canceled</p>
</dd></dl>

<dl class="py class">
<dt id="sparsify.workers.base_wrapper.JobWorkerWrapper">
<em class="property">class </em><code class="sig-prename descclassname">sparsify.workers.base_wrapper.</code><code class="sig-name descname">JobWorkerWrapper</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">worker</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#sparsify.workers.base.BaseJobWorker" title="sparsify.workers.base.BaseJobWorker">sparsify.workers.base.BaseJobWorker</a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sparsify/workers/base_wrapper.html#JobWorkerWrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparsify.workers.base_wrapper.JobWorkerWrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The wrapper for a job worker to handle running an instance
through the proper flow and update state to the manager and the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>worker</strong> – the worker instance to run</p>
</dd>
</dl>
<dl class="py method">
<dt id="sparsify.workers.base_wrapper.JobWorkerWrapper.cancel">
<code class="sig-name descname">cancel</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sparsify/workers/base_wrapper.html#JobWorkerWrapper.cancel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparsify.workers.base_wrapper.JobWorkerWrapper.cancel" title="Permalink to this definition">¶</a></dt>
<dd><p>Cancel the running job. start must have been called first</p>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.base_wrapper.JobWorkerWrapper.canceled">
<em class="property">property </em><code class="sig-name descname">canceled</code><a class="headerlink" href="#sparsify.workers.base_wrapper.JobWorkerWrapper.canceled" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if the job is canceled, False otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.base_wrapper.JobWorkerWrapper.canceling">
<em class="property">property </em><code class="sig-name descname">canceling</code><a class="headerlink" href="#sparsify.workers.base_wrapper.JobWorkerWrapper.canceling" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if the job is being canceled, False otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.base_wrapper.JobWorkerWrapper.completed">
<em class="property">property </em><code class="sig-name descname">completed</code><a class="headerlink" href="#sparsify.workers.base_wrapper.JobWorkerWrapper.completed" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if the job is completed, False otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.base_wrapper.JobWorkerWrapper.error">
<em class="property">property </em><code class="sig-name descname">error</code><a class="headerlink" href="#sparsify.workers.base_wrapper.JobWorkerWrapper.error" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The error, if any, encountered while running the job worker</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.base_wrapper.JobWorkerWrapper.errored">
<em class="property">property </em><code class="sig-name descname">errored</code><a class="headerlink" href="#sparsify.workers.base_wrapper.JobWorkerWrapper.errored" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if the job has errored, False otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.base_wrapper.JobWorkerWrapper.job_id">
<em class="property">property </em><code class="sig-name descname">job_id</code><a class="headerlink" href="#sparsify.workers.base_wrapper.JobWorkerWrapper.job_id" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the job id</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.base_wrapper.JobWorkerWrapper.progress">
<em class="property">property </em><code class="sig-name descname">progress</code><a class="headerlink" href="#sparsify.workers.base_wrapper.JobWorkerWrapper.progress" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>current progress, if any, for the running job worker</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.base_wrapper.JobWorkerWrapper.start">
<code class="sig-name descname">start</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">done_callback</span><span class="p">:</span> <span class="n">Callable<span class="p">[</span><span class="p">]</span><span class="p">, </span>None<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sparsify/workers/base_wrapper.html#JobWorkerWrapper.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparsify.workers.base_wrapper.JobWorkerWrapper.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Start running the contained job worker in a separate thread</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>done_callback</strong> – the callback to invoke once completed running</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.base_wrapper.JobWorkerWrapper.started">
<em class="property">property </em><code class="sig-name descname">started</code><a class="headerlink" href="#sparsify.workers.base_wrapper.JobWorkerWrapper.started" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if start has been called, False otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.base_wrapper.JobWorkerWrapper.worker">
<em class="property">property </em><code class="sig-name descname">worker</code><a class="headerlink" href="#sparsify.workers.base_wrapper.JobWorkerWrapper.worker" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the worker instance to run</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-sparsify.workers.projects_benchmark">
<span id="sparsify-workers-projects-benchmark-module"></span><h2>sparsify.workers.projects_benchmark module<a class="headerlink" href="#module-sparsify.workers.projects_benchmark" title="Permalink to this headline">¶</a></h2>
<p>Code related to the benchmark implementations for job workers</p>
<dl class="py class">
<dt id="sparsify.workers.projects_benchmark.CreateBenchmarkJobWorker">
<em class="property">class </em><code class="sig-prename descclassname">sparsify.workers.projects_benchmark.</code><code class="sig-name descname">CreateBenchmarkJobWorker</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">job_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">project_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">model_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">benchmark_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">core_counts</span><span class="p">:</span> <span class="n">List<span class="p">[</span>int<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">batch_sizes</span><span class="p">:</span> <span class="n">List<span class="p">[</span>int<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">instruction_sets</span><span class="p">:</span> <span class="n">List<span class="p">[</span>str<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">inference_models</span><span class="p">:</span> <span class="n">List<span class="p">[</span>Dict<span class="p">[</span>str<span class="p">, </span>Optional<span class="p">[</span>str<span class="p">]</span><span class="p">]</span><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">warmup_iterations_per_check</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">iterations_per_check</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sparsify/workers/projects_benchmark.html#CreateBenchmarkJobWorker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparsify.workers.projects_benchmark.CreateBenchmarkJobWorker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sparsify.workers.base.BaseJobWorker" title="sparsify.workers.base.BaseJobWorker"><code class="xref py py-class docutils literal notranslate"><span class="pre">sparsify.workers.base.BaseJobWorker</span></code></a></p>
<p>A job worker for running and saving a benchmark for a given project
and configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>job_id</strong> – the id of the job this worker is running under</p></li>
<li><p><strong>project_id</strong> – the id of the project the worker is running for</p></li>
<li><p><strong>model_id</strong> – id of the model to run the loss profile for</p></li>
<li><p><strong>benchmark_id</strong> – the benchmark id that should be updated</p></li>
<li><p><strong>core_counts</strong> – list of core count to run on for benchmarking.
-1 will use the maximum cores available</p></li>
<li><p><strong>batch_sizes</strong> – list of batch sizes to use for benchmarking</p></li>
<li><p><strong>instruction_sets</strong> – list of instruction sets</p></li>
<li><p><strong>inference_models</strong> – list of inference model to use for comparison with
fields inference_engine and inference_model_optimization</p></li>
<li><p><strong>warmup_iterations_per_check</strong> – the number of warmup iterations to run for
before checking performance / timing</p></li>
<li><p><strong>iterations_per_check</strong> – the number of iterations to run for each performance
check / timing</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the formatted args to be stored for later use</p>
</dd>
</dl>
<dl class="py method">
<dt id="sparsify.workers.projects_benchmark.CreateBenchmarkJobWorker.batch_sizes">
<em class="property">property </em><code class="sig-name descname">batch_sizes</code><a class="headerlink" href="#sparsify.workers.projects_benchmark.CreateBenchmarkJobWorker.batch_sizes" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of batch sizes to use for benchmarking</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.projects_benchmark.CreateBenchmarkJobWorker.benchmark_id">
<em class="property">property </em><code class="sig-name descname">benchmark_id</code><a class="headerlink" href="#sparsify.workers.projects_benchmark.CreateBenchmarkJobWorker.benchmark_id" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>id of the benchmark</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.projects_benchmark.CreateBenchmarkJobWorker.core_counts">
<em class="property">property </em><code class="sig-name descname">core_counts</code><a class="headerlink" href="#sparsify.workers.projects_benchmark.CreateBenchmarkJobWorker.core_counts" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of core count to run on for benchmarking.
-1 will use the maximum cores available</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.projects_benchmark.CreateBenchmarkJobWorker.format_args">
<em class="property">classmethod </em><code class="sig-name descname">format_args</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">benchmark_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">core_counts</span><span class="p">:</span> <span class="n">List<span class="p">[</span>int<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">batch_sizes</span><span class="p">:</span> <span class="n">List<span class="p">[</span>int<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">instruction_sets</span><span class="p">:</span> <span class="n">List<span class="p">[</span>str<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">inference_models</span><span class="p">:</span> <span class="n">List<span class="p">[</span>Dict<span class="p">[</span>str<span class="p">, </span>Optional<span class="p">[</span>str<span class="p">]</span><span class="p">]</span><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">warmup_iterations_per_check</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">iterations_per_check</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sparsify/workers/projects_benchmark.html#CreateBenchmarkJobWorker.format_args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparsify.workers.projects_benchmark.CreateBenchmarkJobWorker.format_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Format a given args into proper args to be stored for later use
in the constructor for the job worker.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_id</strong> – id of the model to run the loss profile for</p></li>
<li><p><strong>benchmark_id</strong> – the benchmark id that should be updated</p></li>
<li><p><strong>core_counts</strong> – list of core count to run on for benchmarking.
-1 will use the maximum cores available</p></li>
<li><p><strong>batch_sizes</strong> – list of batch sizes to use for benchmarking</p></li>
<li><p><strong>instruction_sets</strong> – list of instruction sets</p></li>
<li><p><strong>inference_models</strong> – list of inference model to use for comparison with
fields inference_engine and inference_model_optimization</p></li>
<li><p><strong>warmup_iterations_per_check</strong> – the number of warmup iterations to run for before
checking performance / timing</p></li>
<li><p><strong>iterations_per_check</strong> – the number of iterations to run for each performance
check / timing</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the formatted args to be stored for later use</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.projects_benchmark.CreateBenchmarkJobWorker.inference_models">
<em class="property">property </em><code class="sig-name descname">inference_models</code><a class="headerlink" href="#sparsify.workers.projects_benchmark.CreateBenchmarkJobWorker.inference_models" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of inference model to use for comparison with
fields inference_engine and inference_model_optimization</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.projects_benchmark.CreateBenchmarkJobWorker.instruction_sets">
<em class="property">property </em><code class="sig-name descname">instruction_sets</code><a class="headerlink" href="#sparsify.workers.projects_benchmark.CreateBenchmarkJobWorker.instruction_sets" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of instruction sets</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.projects_benchmark.CreateBenchmarkJobWorker.iterations_per_check">
<em class="property">property </em><code class="sig-name descname">iterations_per_check</code><a class="headerlink" href="#sparsify.workers.projects_benchmark.CreateBenchmarkJobWorker.iterations_per_check" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the number of iterations to run for each performance check / timing</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.projects_benchmark.CreateBenchmarkJobWorker.model_id">
<em class="property">property </em><code class="sig-name descname">model_id</code><a class="headerlink" href="#sparsify.workers.projects_benchmark.CreateBenchmarkJobWorker.model_id" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>id of the model to run the loss profile for</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.projects_benchmark.CreateBenchmarkJobWorker.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Iterator<span class="p">[</span>Dict<span class="p">[</span>str<span class="p">, </span>Any<span class="p">]</span><span class="p">]</span><a class="reference internal" href="_modules/sparsify/workers/projects_benchmark.html#CreateBenchmarkJobWorker.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparsify.workers.projects_benchmark.CreateBenchmarkJobWorker.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the work for the job.
Runs and saves the appropriate benchmark based on the configuration</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>an iterator containing progress update information</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.projects_benchmark.CreateBenchmarkJobWorker.warmup_iterations_per_check">
<em class="property">property </em><code class="sig-name descname">warmup_iterations_per_check</code><a class="headerlink" href="#sparsify.workers.projects_benchmark.CreateBenchmarkJobWorker.warmup_iterations_per_check" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the number of warmup iterations to run for before checking
performance / timing</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-sparsify.workers.projects_data">
<span id="sparsify-workers-projects-data-module"></span><h2>sparsify.workers.projects_data module<a class="headerlink" href="#module-sparsify.workers.projects_data" title="Permalink to this headline">¶</a></h2>
<p>Code related to the project_data implementations for job workers</p>
<dl class="py class">
<dt id="sparsify.workers.projects_data.DataFromPathJobWorker">
<em class="property">class </em><code class="sig-prename descclassname">sparsify.workers.projects_data.</code><code class="sig-name descname">DataFromPathJobWorker</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">job_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">project_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">data_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">uri</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sparsify/workers/projects_data.html#DataFromPathJobWorker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparsify.workers.projects_data.DataFromPathJobWorker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sparsify.workers.projects_data._DataLoaderJobWorker</span></code></p>
<p>A job worker for retrieving .npz data files from a given uri.
The uri can be either a local file path or a public url.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>job_id</strong> – the id of the job this worker is running under</p></li>
<li><p><strong>project_id</strong> – the id of the project the worker is running for</p></li>
<li><p><strong>data_id</strong> – the id of the data the worker is running for</p></li>
<li><p><strong>uri</strong> – the uri to retrieve</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="sparsify.workers.projects_data.DataFromPathJobWorker.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Iterator<span class="p">[</span>Dict<span class="p">[</span>str<span class="p">, </span>Any<span class="p">]</span><span class="p">]</span><a class="reference internal" href="_modules/sparsify/workers/projects_data.html#DataFromPathJobWorker.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparsify.workers.projects_data.DataFromPathJobWorker.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the work for the job.
Downloads the data files from a public url if the uri is a public url.
Copies the data if the uri is accessible through the local file system.
If the uri points to tar file, extract and save any additional data objects</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>an iterator containing progress update information</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="sparsify.workers.projects_data.DataFromRepoJobWorker">
<em class="property">class </em><code class="sig-prename descclassname">sparsify.workers.projects_data.</code><code class="sig-name descname">DataFromRepoJobWorker</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">job_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">project_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">data_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">uri</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sparsify/workers/projects_data.html#DataFromRepoJobWorker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparsify.workers.projects_data.DataFromRepoJobWorker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sparsify.workers.projects_data._DataLoaderJobWorker</span></code></p>
<p>A job worker for retrieving .npz data files from a given uri.
The uri can be either a local file path or a public url.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>job_id</strong> – the id of the job this worker is running under</p></li>
<li><p><strong>project_id</strong> – the id of the project the worker is running for</p></li>
<li><p><strong>data_id</strong> – the id of the data the worker is running for</p></li>
<li><p><strong>uri</strong> – the uri to retrieve</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="sparsify.workers.projects_data.DataFromRepoJobWorker.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Iterator<span class="p">[</span>Dict<span class="p">[</span>str<span class="p">, </span>Any<span class="p">]</span><span class="p">]</span><a class="reference internal" href="_modules/sparsify/workers/projects_data.html#DataFromRepoJobWorker.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparsify.workers.projects_data.DataFromRepoJobWorker.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the work for the job.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>an iterator containing progress update information</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-sparsify.workers.projects_model">
<span id="sparsify-workers-projects-model-module"></span><h2>sparsify.workers.projects_model module<a class="headerlink" href="#module-sparsify.workers.projects_model" title="Permalink to this headline">¶</a></h2>
<p>Code related to the base implementations for job workers</p>
<dl class="py class">
<dt id="sparsify.workers.projects_model.ModelFromPathJobWorker">
<em class="property">class </em><code class="sig-prename descclassname">sparsify.workers.projects_model.</code><code class="sig-name descname">ModelFromPathJobWorker</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">job_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">project_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">model_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">uri</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sparsify/workers/projects_model.html#ModelFromPathJobWorker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparsify.workers.projects_model.ModelFromPathJobWorker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sparsify.workers.projects_model._ModelLoaderJobWorker</span></code></p>
<p>A job worker for retrieving a model (currently ONNX) from a given uri.
The uri can be either a local file path or a public url.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>job_id</strong> – the id of the job this worker is running under</p></li>
<li><p><strong>project_id</strong> – the id of the project the worker is running for</p></li>
<li><p><strong>model_id</strong> – the id of the model the worker is running for</p></li>
<li><p><strong>uri</strong> – the uri to retrieve</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="sparsify.workers.projects_model.ModelFromPathJobWorker.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Iterator<span class="p">[</span>Dict<span class="p">[</span>str<span class="p">, </span>Any<span class="p">]</span><span class="p">]</span><a class="reference internal" href="_modules/sparsify/workers/projects_model.html#ModelFromPathJobWorker.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparsify.workers.projects_model.ModelFromPathJobWorker.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the work for the job.
Downloads the model from a public url if the uri is a public url.
Copies the model if the uri is accessible through the local file system.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>an iterator containing progress update information</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="sparsify.workers.projects_model.ModelFromRepoJobWorker">
<em class="property">class </em><code class="sig-prename descclassname">sparsify.workers.projects_model.</code><code class="sig-name descname">ModelFromRepoJobWorker</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">job_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">project_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">model_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">uri</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sparsify/workers/projects_model.html#ModelFromRepoJobWorker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparsify.workers.projects_model.ModelFromRepoJobWorker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sparsify.workers.projects_model._ModelLoaderJobWorker</span></code></p>
<p>A job worker for retrieving a model (currently ONNX) from a given uri
from within the Neural Magic model repo.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>job_id</strong> – the id of the job this worker is running under</p></li>
<li><p><strong>project_id</strong> – the id of the project the worker is running for</p></li>
<li><p><strong>model_id</strong> – the id of the model the worker is running for</p></li>
<li><p><strong>uri</strong> – the uri to retrieve</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="sparsify.workers.projects_model.ModelFromRepoJobWorker.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Iterator<span class="p">[</span>Dict<span class="p">[</span>str<span class="p">, </span>Any<span class="p">]</span><span class="p">]</span><a class="reference internal" href="_modules/sparsify/workers/projects_model.html#ModelFromRepoJobWorker.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparsify.workers.projects_model.ModelFromRepoJobWorker.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the work for the job.
Downloads the model from the model repo.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>an iterator containing progress update information</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-sparsify.workers.projects_profiles">
<span id="sparsify-workers-projects-profiles-module"></span><h2>sparsify.workers.projects_profiles module<a class="headerlink" href="#module-sparsify.workers.projects_profiles" title="Permalink to this headline">¶</a></h2>
<p>Job workers for running profiles within a project</p>
<dl class="py class">
<dt id="sparsify.workers.projects_profiles.CreateLossProfileJobWorker">
<em class="property">class </em><code class="sig-prename descclassname">sparsify.workers.projects_profiles.</code><code class="sig-name descname">CreateLossProfileJobWorker</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">job_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">project_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">model_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">profile_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">pruning_estimations</span><span class="p">:</span> <span class="n">bool</span></em>, <em class="sig-param"><span class="n">pruning_estimation_type</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">pruning_structure</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">quantized_estimations</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sparsify/workers/projects_profiles.html#CreateLossProfileJobWorker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparsify.workers.projects_profiles.CreateLossProfileJobWorker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sparsify.workers.projects_profiles.BaseProfileJobWorker</span></code></p>
<p>A job worker for running and saving a loss profile for a given project
and configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>job_id</strong> – the id of the job this worker is running under</p></li>
<li><p><strong>project_id</strong> – the id of the project the worker is running for</p></li>
<li><p><strong>model_id</strong> – id of the model to run the profile for</p></li>
<li><p><strong>profile_id</strong> – the profile id of the profile that should be updated</p></li>
<li><p><strong>pruning_estimations</strong> – True to include pruning profile information</p></li>
<li><p><strong>pruning_estimation_type</strong> – loss analysis type to run,
weight_magnitude or one_shot</p></li>
<li><p><strong>pruning_structure</strong> – type of pruning to use, (unstructured, block_4…)</p></li>
<li><p><strong>quantized_estimations</strong> – True to include quantized information in the profile</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="sparsify.workers.projects_profiles.CreateLossProfileJobWorker.format_args">
<em class="property">classmethod </em><code class="sig-name descname">format_args</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">profile_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">pruning_estimations</span><span class="p">:</span> <span class="n">bool</span></em>, <em class="sig-param"><span class="n">pruning_estimation_type</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">pruning_structure</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">quantized_estimations</span><span class="p">:</span> <span class="n">bool</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span> &#x2192; Union<span class="p">[</span>None<span class="p">, </span>Dict<span class="p">[</span>str<span class="p">, </span>Any<span class="p">]</span><span class="p">]</span><a class="reference internal" href="_modules/sparsify/workers/projects_profiles.html#CreateLossProfileJobWorker.format_args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparsify.workers.projects_profiles.CreateLossProfileJobWorker.format_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Format a given args into proper args to be stored for later use
in the constructor for the job worker.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_id</strong> – id of the model to run the loss profile for</p></li>
<li><p><strong>profile_id</strong> – the profile id of the loss profile that should be updated</p></li>
<li><p><strong>pruning_estimations</strong> – True to include pruning profile information</p></li>
<li><p><strong>pruning_estimation_type</strong> – loss analysis type to run,
weight_magnitude or one_shot</p></li>
<li><p><strong>pruning_structure</strong> – type of pruning to use, (unstructured, block_4…)</p></li>
<li><p><strong>quantized_estimations</strong> – True to include quantized information
in the profile, False otherwise</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the formatted args to be stored for later use</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.projects_profiles.CreateLossProfileJobWorker.model_id">
<em class="property">property </em><code class="sig-name descname">model_id</code><a class="headerlink" href="#sparsify.workers.projects_profiles.CreateLossProfileJobWorker.model_id" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>id of the model to run the loss profile for</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.projects_profiles.CreateLossProfileJobWorker.profile_id">
<em class="property">property </em><code class="sig-name descname">profile_id</code><a class="headerlink" href="#sparsify.workers.projects_profiles.CreateLossProfileJobWorker.profile_id" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the profile id of the loss profile that should be updated</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.projects_profiles.CreateLossProfileJobWorker.pruning_estimation_type">
<em class="property">property </em><code class="sig-name descname">pruning_estimation_type</code><a class="headerlink" href="#sparsify.workers.projects_profiles.CreateLossProfileJobWorker.pruning_estimation_type" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>loss analysis type to run,
weight_magnitude or one_shot</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.projects_profiles.CreateLossProfileJobWorker.pruning_estimations">
<em class="property">property </em><code class="sig-name descname">pruning_estimations</code><a class="headerlink" href="#sparsify.workers.projects_profiles.CreateLossProfileJobWorker.pruning_estimations" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True to include pruning profile information</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.projects_profiles.CreateLossProfileJobWorker.pruning_structure">
<em class="property">property </em><code class="sig-name descname">pruning_structure</code><a class="headerlink" href="#sparsify.workers.projects_profiles.CreateLossProfileJobWorker.pruning_structure" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>type of pruning to use, (unstructured, block_4…)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.projects_profiles.CreateLossProfileJobWorker.quantized_estimations">
<em class="property">property </em><code class="sig-name descname">quantized_estimations</code><a class="headerlink" href="#sparsify.workers.projects_profiles.CreateLossProfileJobWorker.quantized_estimations" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True to include quantized information
in the profile, False otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.projects_profiles.CreateLossProfileJobWorker.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Iterator<span class="p">[</span>Dict<span class="p">[</span>str<span class="p">, </span>Any<span class="p">]</span><span class="p">]</span><a class="reference internal" href="_modules/sparsify/workers/projects_profiles.html#CreateLossProfileJobWorker.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparsify.workers.projects_profiles.CreateLossProfileJobWorker.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the work for the job.
Runs and saves the appropriate loss profile based on the configuration</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>an iterator containing progress update information</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="sparsify.workers.projects_profiles.CreatePerfProfileJobWorker">
<em class="property">class </em><code class="sig-prename descclassname">sparsify.workers.projects_profiles.</code><code class="sig-name descname">CreatePerfProfileJobWorker</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">job_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">project_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">model_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">profile_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">batch_size</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">core_count</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">pruning_estimations</span><span class="p">:</span> <span class="n">bool</span></em>, <em class="sig-param"><span class="n">quantized_estimations</span><span class="p">:</span> <span class="n">bool</span></em>, <em class="sig-param"><span class="n">iterations_per_check</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">warmup_iterations_per_check</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sparsify/workers/projects_profiles.html#CreatePerfProfileJobWorker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparsify.workers.projects_profiles.CreatePerfProfileJobWorker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sparsify.workers.projects_profiles.BaseProfileJobWorker</span></code></p>
<p>A job worker for running and saving a perf profile for a given project
and configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>job_id</strong> – the id of the job this worker is running under</p></li>
<li><p><strong>project_id</strong> – the id of the project the worker is running for</p></li>
<li><p><strong>model_id</strong> – id of the model to run the profile for</p></li>
<li><p><strong>profile_id</strong> – the profile id of the profile that should be updated</p></li>
<li><p><strong>batch_size</strong> – batch size to use for perf analysis</p></li>
<li><p><strong>core_count</strong> – number of cores to run on for perf analysis. -1 will use
the maximum cores available</p></li>
<li><p><strong>pruning_estimations</strong> – True to include pruning measurements</p></li>
<li><p><strong>quantized_estimations</strong> – True to include quantization measurements</p></li>
<li><p><strong>iterations_per_check</strong> – number of iterations of the batch size to
run for each measurement check</p></li>
<li><p><strong>warmup_iterations_per_check</strong> – number of warmup iterations of the batch
size to run before each measurement check</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="sparsify.workers.projects_profiles.CreatePerfProfileJobWorker.batch_size">
<em class="property">property </em><code class="sig-name descname">batch_size</code><a class="headerlink" href="#sparsify.workers.projects_profiles.CreatePerfProfileJobWorker.batch_size" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>batch size to use for perf analysis</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.projects_profiles.CreatePerfProfileJobWorker.core_count">
<em class="property">property </em><code class="sig-name descname">core_count</code><a class="headerlink" href="#sparsify.workers.projects_profiles.CreatePerfProfileJobWorker.core_count" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>number of cores to run on for perf analysis.
-1 will use the maximum cores available</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.projects_profiles.CreatePerfProfileJobWorker.format_args">
<em class="property">classmethod </em><code class="sig-name descname">format_args</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">profile_id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">batch_size</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">core_count</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">pruning_estimations</span><span class="p">:</span> <span class="n">bool</span></em>, <em class="sig-param"><span class="n">quantized_estimations</span><span class="p">:</span> <span class="n">bool</span></em>, <em class="sig-param"><span class="n">iterations_per_check</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">warmup_iterations_per_check</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span> &#x2192; Union<span class="p">[</span>None<span class="p">, </span>Dict<span class="p">[</span>str<span class="p">, </span>Any<span class="p">]</span><span class="p">]</span><a class="reference internal" href="_modules/sparsify/workers/projects_profiles.html#CreatePerfProfileJobWorker.format_args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparsify.workers.projects_profiles.CreatePerfProfileJobWorker.format_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Format a given args into proper args to be stored for later use
in the constructor for the job worker.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_id</strong> – id of the model to run the loss profile for</p></li>
<li><p><strong>profile_id</strong> – the profile id of the loss profile that should be updated</p></li>
<li><p><strong>batch_size</strong> – batch size to use for perf analysis</p></li>
<li><p><strong>core_count</strong> – number of cores to run on for perf analysis.
-1 will use the maximum cores available</p></li>
<li><p><strong>pruning_estimations</strong> – True to include pruning measurements</p></li>
<li><p><strong>quantized_estimations</strong> – True to include quantization measurements</p></li>
<li><p><strong>iterations_per_check</strong> – number of iterations of the batch size to
run for each measurement check</p></li>
<li><p><strong>warmup_iterations_per_check</strong> – number of warmup iterations of the batch
size to run before each measurement check</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the formatted args to be stored for later use</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.projects_profiles.CreatePerfProfileJobWorker.iterations_per_check">
<em class="property">property </em><code class="sig-name descname">iterations_per_check</code><a class="headerlink" href="#sparsify.workers.projects_profiles.CreatePerfProfileJobWorker.iterations_per_check" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>number of iterations of the batch size to
run for each measurement check</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.projects_profiles.CreatePerfProfileJobWorker.pruning_estimations">
<em class="property">property </em><code class="sig-name descname">pruning_estimations</code><a class="headerlink" href="#sparsify.workers.projects_profiles.CreatePerfProfileJobWorker.pruning_estimations" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True to include pruning profile information</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.projects_profiles.CreatePerfProfileJobWorker.quantized_estimations">
<em class="property">property </em><code class="sig-name descname">quantized_estimations</code><a class="headerlink" href="#sparsify.workers.projects_profiles.CreatePerfProfileJobWorker.quantized_estimations" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True to include quantized information
in the profile, False otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.projects_profiles.CreatePerfProfileJobWorker.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Iterator<span class="p">[</span>Dict<span class="p">[</span>str<span class="p">, </span>Any<span class="p">]</span><span class="p">]</span><a class="reference internal" href="_modules/sparsify/workers/projects_profiles.html#CreatePerfProfileJobWorker.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sparsify.workers.projects_profiles.CreatePerfProfileJobWorker.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the work for the job.
Runs and saves the appropriate perf profile based on the configuration</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>an iterator containing progress update information</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="sparsify.workers.projects_profiles.CreatePerfProfileJobWorker.warmup_iterations_per_check">
<em class="property">property </em><code class="sig-name descname">warmup_iterations_per_check</code><a class="headerlink" href="#sparsify.workers.projects_profiles.CreatePerfProfileJobWorker.warmup_iterations_per_check" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>number of warmup iterations of the batch
size to run before each measurement check</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-sparsify.workers">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-sparsify.workers" title="Permalink to this headline">¶</a></h2>
<p>Code for running background jobs</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="sparsify.utils.html" class="btn btn-neutral float-left" title="sparsify.utils package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Neural Magic.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>