test_stage:
  pruning_modifiers:
    MagnitudePruningModifier:
      targets:
        - re:bert.encoder.layer.*.attention.self.query.weight
        - re:bert.encoder.layer.*.attention.self.key.weight
        - re:bert.encoder.layer.*.attention.self.value.weight
        - re:bert.encoder.layer.*.attention.output.dense.weight
        - re:bert.encoder.layer.*.intermediate.dense.weight
        - re:bert.encoder.layer.*.output.dense.weight
      start: eval(pruning_start_epoch)
      end: eval(pruning_end_epoch)
      init_sparsity: eval(pruning_init_sparsity)
      final_sparsity: eval(pruning_final_sparsity)
      update_scheduler: cubic